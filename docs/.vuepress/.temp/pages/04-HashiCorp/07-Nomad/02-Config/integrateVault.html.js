export const data = JSON.parse("{\"key\":\"v-957ab2ec\",\"path\":\"/04-HashiCorp/07-Nomad/02-Config/integrateVault.html\",\"title\":\"integrate Vault\",\"lang\":\"ko-KR\",\"frontmatter\":{\"description\":\"Nomad Namespace\",\"tag\":[\"Nomad\",\"Namespace\"],\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://vuepress-theme-hope-docs-demo.netlify.app/04-HashiCorp/07-Nomad/02-Config/integrateVault.html\"}],[\"meta\",{\"property\":\"og:site_name\",\"content\":\"docmoa\"}],[\"meta\",{\"property\":\"og:title\",\"content\":\"integrate Vault\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"Nomad Namespace\"}],[\"meta\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"ko-KR\"}],[\"meta\",{\"property\":\"article:tag\",\"content\":\"Nomad\"}],[\"meta\",{\"property\":\"article:tag\",\"content\":\"Namespace\"}],[\"script\",{\"type\":\"application/ld+json\"},\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Article\\\",\\\"headline\\\":\\\"integrate Vault\\\",\\\"image\\\":[\\\"\\\"],\\\"dateModified\\\":null,\\\"author\\\":[]}\"]]},\"headers\":[{\"level\":2,\"title\":\"아래 작업 전 Forward DNS for Consul Service Discovery을 진행해야함\",\"slug\":\"아래-작업-전-forward-dns-for-consul-service-discovery을-진행해야함\",\"link\":\"#아래-작업-전-forward-dns-for-consul-service-discovery을-진행해야함\",\"children\":[]},{\"level\":2,\"title\":\"예제를 위한 vault kv 설정\",\"slug\":\"예제를-위한-vault-kv-설정\",\"link\":\"#예제를-위한-vault-kv-설정\",\"children\":[]},{\"level\":2,\"title\":\"Server 구성 예시\",\"slug\":\"server-구성-예시\",\"link\":\"#server-구성-예시\",\"children\":[{\"level\":3,\"title\":\"storage를 consul을 사용하고 consul에 서비스가 등록되어 있는환경\",\"slug\":\"storage를-consul을-사용하고-consul에-서비스가-등록되어-있는환경\",\"link\":\"#storage를-consul을-사용하고-consul에-서비스가-등록되어-있는환경\",\"children\":[]}]},{\"level\":2,\"title\":\"Client 구성 예시\",\"slug\":\"client-구성-예시\",\"link\":\"#client-구성-예시\",\"children\":[]}],\"git\":{},\"readingTime\":{\"minutes\":0.73,\"words\":220},\"filePathRelative\":\"04-HashiCorp/07-Nomad/02-Config/integrateVault.md\",\"excerpt\":\"<h1> integrate Vault</h1>\\n<h2> 아래 작업 전 Forward DNS for Consul Service Discovery을 진행해야함</h2>\\n<ul>\\n<li><a href=\\\"/04-HashiCorp/04-Consul/02-Configuration/ForwardDns.html\\\" target=\\\"blank\\\">Consul 설정 링크</a></li>\\n</ul>\\n<h2> 예제를 위한 vault kv 설정</h2>\\n<div class=\\\"language-bash line-numbers-mode\\\" data-ext=\\\"sh\\\"><pre class=\\\"language-bash\\\"><code><span class=\\\"token comment\\\"># 사용된 policy들</span>\\n$ <span class=\\\"token function\\\">cat</span> nomad-cluster-role.json\\n<span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token string\\\">\\\"allowed_policies\\\"</span><span class=\\\"token builtin class-name\\\">:</span> <span class=\\\"token string\\\">\\\"admin\\\"</span>,\\n    <span class=\\\"token string\\\">\\\"token_explicit_max_ttl\\\"</span><span class=\\\"token builtin class-name\\\">:</span> <span class=\\\"token number\\\">0</span>,\\n    <span class=\\\"token string\\\">\\\"name\\\"</span><span class=\\\"token builtin class-name\\\">:</span> <span class=\\\"token string\\\">\\\"nomad-cluster\\\"</span>,\\n    <span class=\\\"token string\\\">\\\"orphan\\\"</span><span class=\\\"token builtin class-name\\\">:</span> true,\\n    <span class=\\\"token string\\\">\\\"token_period\\\"</span><span class=\\\"token builtin class-name\\\">:</span> <span class=\\\"token number\\\">259200</span>,\\n    <span class=\\\"token string\\\">\\\"renewable\\\"</span><span class=\\\"token builtin class-name\\\">:</span> <span class=\\\"token boolean\\\">true</span>\\n<span class=\\\"token punctuation\\\">}</span>\\nvault <span class=\\\"token function\\\">write</span> /auth/token/roles/nomad-cluster @nomad-cluster-role.json\\n\\n$ <span class=\\\"token function\\\">cat</span> admin-policy.hcl \\n<span class=\\\"token comment\\\"># Read system health check</span>\\npath <span class=\\\"token string\\\">\\\"sys/health\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"read\\\"</span>, <span class=\\\"token string\\\">\\\"sudo\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># Create and manage ACL policies broadly across Vault</span>\\n\\n<span class=\\\"token comment\\\"># List existing policies</span>\\npath <span class=\\\"token string\\\">\\\"sys/policies/acl\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"list\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># Create and manage ACL policies</span>\\npath <span class=\\\"token string\\\">\\\"sys/policies/acl/*\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"create\\\"</span>, <span class=\\\"token string\\\">\\\"read\\\"</span>, <span class=\\\"token string\\\">\\\"update\\\"</span>, <span class=\\\"token string\\\">\\\"delete\\\"</span>, <span class=\\\"token string\\\">\\\"list\\\"</span>, <span class=\\\"token string\\\">\\\"sudo\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># Enable and manage authentication methods broadly across Vault</span>\\n\\n<span class=\\\"token comment\\\"># Manage auth methods broadly across Vault</span>\\npath <span class=\\\"token string\\\">\\\"auth/*\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"create\\\"</span>, <span class=\\\"token string\\\">\\\"read\\\"</span>, <span class=\\\"token string\\\">\\\"update\\\"</span>, <span class=\\\"token string\\\">\\\"delete\\\"</span>, <span class=\\\"token string\\\">\\\"list\\\"</span>, <span class=\\\"token string\\\">\\\"sudo\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># Create, update, and delete auth methods</span>\\npath <span class=\\\"token string\\\">\\\"sys/auth/*\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"create\\\"</span>, <span class=\\\"token string\\\">\\\"update\\\"</span>, <span class=\\\"token string\\\">\\\"delete\\\"</span>, <span class=\\\"token string\\\">\\\"sudo\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># List auth methods</span>\\npath <span class=\\\"token string\\\">\\\"sys/auth\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"read\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># Enable and manage the key/value secrets engine at `secret/` path</span>\\n\\n<span class=\\\"token comment\\\"># List, create, update, and delete key/value secrets</span>\\npath <span class=\\\"token string\\\">\\\"secret/*\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"create\\\"</span>, <span class=\\\"token string\\\">\\\"read\\\"</span>, <span class=\\\"token string\\\">\\\"update\\\"</span>, <span class=\\\"token string\\\">\\\"delete\\\"</span>, <span class=\\\"token string\\\">\\\"list\\\"</span>, <span class=\\\"token string\\\">\\\"sudo\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># Manage secrets engines</span>\\npath <span class=\\\"token string\\\">\\\"sys/mounts/*\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"create\\\"</span>, <span class=\\\"token string\\\">\\\"read\\\"</span>, <span class=\\\"token string\\\">\\\"update\\\"</span>, <span class=\\\"token string\\\">\\\"delete\\\"</span>, <span class=\\\"token string\\\">\\\"list\\\"</span>, <span class=\\\"token string\\\">\\\"sudo\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token comment\\\"># List existing secrets engines.</span>\\npath <span class=\\\"token string\\\">\\\"sys/mounts\\\"</span>\\n<span class=\\\"token punctuation\\\">{</span>\\n  capabilities <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"read\\\"</span><span class=\\\"token punctuation\\\">]</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\nvault policy <span class=\\\"token function\\\">write</span> admin admin-policy.hcl\\n\\n<span class=\\\"token comment\\\"># token 생성</span>\\nvault token create <span class=\\\"token parameter variable\\\">-policy</span> admin <span class=\\\"token parameter variable\\\">-period</span> 72h <span class=\\\"token parameter variable\\\">-orphan</span>\\n</code></pre><div class=\\\"line-numbers\\\" aria-hidden=\\\"true\\\"><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div><div class=\\\"line-number\\\"></div></div></div>\",\"copyright\":{\"license\":\"CC BY-NC-ND 4.0 Licensed | ⓒ 2021-present docmoa™ contributers all rights reserved.\"}}")

if (import.meta.webpackHot) {
  import.meta.webpackHot.accept()
  if (__VUE_HMR_RUNTIME__.updatePageData) {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  }
}

if (import.meta.hot) {
  import.meta.hot.accept(({ data }) => {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  })
}
